# E2E Date Function Tests
# Validated against Gnumeric/LibreOffice
# Note: TODAY is dynamic - we test YEAR(TODAY()) equals current year

_forge_version: "1.0.0"

assumptions:
  # TODAY (dynamic - test via YEAR extraction)
  test_today_year:
    value: null
    formula: "=YEAR(TODAY())"
    expected: 2025

  # YEAR
  test_year_2024:
    value: null
    formula: "=YEAR(DATE(2024, 6, 15))"
    expected: 2024

  test_year_2025:
    value: null
    formula: "=YEAR(DATE(2025, 1, 1))"
    expected: 2025

  # MONTH
  test_month_june:
    value: null
    formula: "=MONTH(DATE(2024, 6, 15))"
    expected: 6

  test_month_december:
    value: null
    formula: "=MONTH(DATE(2024, 12, 25))"
    expected: 12

  # DAY
  test_day_15:
    value: null
    formula: "=DAY(DATE(2024, 6, 15))"
    expected: 15

  test_day_31:
    value: null
    formula: "=DAY(DATE(2024, 1, 31))"
    expected: 31

  # DATEDIF (days between dates)
  test_datedif_year:
    value: null
    formula: "=DATE(2024, 12, 31) - DATE(2024, 1, 1)"
    expected: 365
